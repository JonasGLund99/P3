@using src.Data
@using src.Shared

<div class="heatmap-component">
    <div id="toolbar">
        <div id="export-icon" title="Export overview">
            <i class="fa-solid fa-file-export"></i>
        </div>
    </div>
    <div class="heatmap-and-scale">
        <div class="all-heatmap-cells">
            <table class ="heatmap-table">
                <tr class="heatmap-header">
                    <td class="line-number">Slide</td>
                    @{int j = 1;}
                    @foreach (string chosenTableTitle in ClinicalTest.ChosenTableTitles)
                    {
                        if (chosenTableTitle != null) {
                            <td id="key-number-@j">@chosenTableTitle</td>
                            j++;
                        }       
                    }

                    @foreach (string analyteName in ClinicalTest.AnalyteNames) 
                    {
                        <td contenteditable="false">@analyteName</td>
                    }
                </tr>
            </table>
        </div>
        <div class="color-scale-indicator">

        </div>
    </div>
</div>

@code {

    private List<Slide> slides { 
        get 
        {
            return ClinicalTest.GetSlides();
        }
    }

    [Parameter]
    public ClinicalTest ClinicalTest { get; set; }

    private string cellTitleHelper(Nplicate nplicate) {
        return "";
    }
}
